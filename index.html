<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FB Comment Pro Generator</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        :root {
            --bg-color: #18191a;
            --card-bg: #242526;
            --text-main: #e4e6eb;
            --text-name: #e4e6eb;
            --text-secondary: #b0b3b8;
            --input-bg: #3a3b3c;
            --accent: #2e89ff;
            --nav-bg: #242526;
            --nav-text: #b0b3b8;
            --nav-active: #2e89ff;
            --nav-hover: #3a3b3c;
        }

        body {
            font-family: "Segoe UI Historic", "Segoe UI", Helvetica, Arial, sans-serif;
            background-color: #050505;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            margin: 0;
            -webkit-font-smoothing: antialiased;
            overflow-x: hidden;
        }

        .custom-navbar {
            width: 100%;
            background-color: var(--nav-bg);
            display: flex;
            justify-content: center;
            padding: 0;
            margin: 0 0 30px 0;
            border-bottom: 1px solid #3e4042;
            font-family: "Segoe UI", Helvetica, Arial, sans-serif;
            flex-wrap: wrap; /* Allows wrapping on very small screens */
        }

        .nav-link {
            color: var(--nav-text);
            text-decoration: none;
            padding: 16px 24px;
            font-weight: 600;
            font-size: 15px;
            transition: all 0.2s ease;
            border-bottom: 3px solid transparent;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-link:hover {
            background-color: var(--nav-hover);
            color: #e4e6eb;
        }

        .nav-link.active {
            color: var(--nav-active);
            border-bottom-color: var(--nav-active);
        }

        .editor-container {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 30px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 12px 28px rgba(0,0,0,0.4);
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            box-sizing: border-box;
        }

        /* --- MOBILE RESPONSIVENESS START --- */
        @media (max-width: 600px) {
            .editor-container {
                grid-template-columns: 1fr; /* Stacks inputs vertically on mobile */
                width: 95%;
                padding: 15px;
            }
            .nav-link {
                padding: 12px 15px;
                font-size: 14px;
            }
        }
        /* --- MOBILE RESPONSIVENESS END --- */

        .editor-container h2, .editor-container .full-width { grid-column: span 1; }
        @media (min-width: 601px) {
            .editor-container h2, .editor-container .full-width { grid-column: span 2; }
        }

        label { display: block; margin-top: 10px; font-size: 0.8rem; color: #b0b3b8; }
        input, textarea, select {
            width: 100%;
            padding: 8px;
            margin-top: 4px;
            border-radius: 6px;
            border: 1px solid #4e4f50;
            background: var(--input-bg);
            color: white;
            box-sizing: border-box;
        }

        .btn-download {
            grid-column: span 1;
            margin-top: 15px;
            padding: 12px;
            background-color: var(--accent);
            border: none;
            border-radius: 6px;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }
        @media (min-width: 601px) {
            .btn-download { grid-column: span 2; }
        }

        /* PREVIEW AREA CONTAINER */
        #preview-wrapper {
            width: 100%;
            display: flex;
            justify-content: center;
            overflow-x: auto; /* Allows horizontal scroll for the preview if on mobile */
            padding-bottom: 20px;
        }

        #capture-area {
            background-color: var(--bg-color);
            padding: 30px;
            display: inline-block;
            min-width: 500px; /* Maintains the desktop Facebook comment width */
        }

        .fb-comment-wrapper {
            display: flex;
            gap: 8px;
            position: relative;
        }

        .reply-line {
            position: absolute;
            left: 16px;
            top: 36px;
            bottom: -12px;
            width: 2px;
            background-color: #3e4042;
            border-bottom-left-radius: 10px;
            display: none;
        }

        .profile-pic-container { z-index: 1; }
        .profile-pic-container img {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            object-fit: cover;
        }

        .comment-content { flex: 1; }

        .bubble-container {
            position: relative;
            display: inline-block;
            max-width: 90%;
        }

        .comment-bubble {
            background-color: var(--input-bg);
            padding: 8px 12px;
            border-radius: 18px;
        }

        .user-name { font-weight: 600; font-size: 13px; color: var(--text-name); display: block; margin-bottom: 2px; }
        .comment-text { font-size: 15px; line-height: 1.33; color: var(--text-main); word-wrap: break-word; white-space: pre-wrap; }

        .reaction-badge {
            position: absolute;
            right: -10px;
            bottom: -10px;
            background: #3a3b3c;
            padding: 2px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.3);
            border: 1px solid #242526;
        }
        .reaction-badge img { width: 16px; height: 16px; }

        .comment-actions {
            display: flex;
            gap: 12px;
            padding: 4px 12px;
            font-size: 12px;
            font-weight: 700;
            color: var(--text-secondary);
        }

        .time-item { font-weight: 400; }

        .view-replies {
            margin-top: 4px;
            margin-left: 12px;
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
            display: none;
            padding-left: 25px;
            position: relative;
        }
        
        .view-replies::before {
            content: "";
            position: absolute;
            left: -20px;
            top: 50%;
            width: 20px;
            height: 2px;
            background-color: #3e4042;
        }

        .hidden { display: none !important; }
    </style>
</head>
<body>
<nav class="custom-navbar">
    <a href="index.html" class="nav-link active">Comment Generator</a>
    <a href="fb-review.html" class="nav-link">Review Generator</a>
</nav>
    <div class="editor-container">
        <h2 class="full-width">Comment Customizer</h2>
        
        <div>
            <label>Name</label>
            <input type="text" id="nameInput" value="‡¶Æ‡ßá‡¶ò ‡¶ï‡¶®‡ßç‡¶Ø‡¶æ">
        </div>
        <div>
            <label>Time</label>
            <input type="text" id="timeInput" value="11h">
        </div>

        <div class="full-width">
            <label>Comment Body</label>
            <textarea id="commentInput" rows="2">Tuly's Organic Products a dekhte paren Apu 100% organic products sell kore..</textarea>
        </div>

        <div>
            <label>Profile Pic</label>
            <select id="imageMethod">
                <option value="upload">Upload</option>
                <option value="url">URL</option>
            </select>
        </div>
        <div>
            <label>Action</label>
            <input type="file" id="imageFile" accept="image/*">
            <input type="text" id="imageUrl" class="hidden" placeholder="Paste URL...">
        </div>

        <div>
            <label>Reaction</label>
            <select id="reactType">
                <option value="none">None</option>
                <option value="like">Like (üëç)</option>
                <option value="love">Love (‚ù§Ô∏è)</option>
                <option value="haha" selected>Haha (üòÜ)</option>
                <option value="wow">Wow (üòÆ)</option>
            </select>
        </div>
        <div>
            <label>Reply Count</label>
            <input type="number" id="replyCount" value="1">
        </div>

        <div class="full-width">
            <label style="display:inline-block; margin-right: 20px;">
                <input type="checkbox" id="showReplies" checked> Show Reply Line
            </label>
        </div>

        <button class="btn-download" onclick="downloadImage()">Download Exact Preview</button>
    </div>

    <div id="preview-wrapper">
        <div id="capture-area">
            <div class="fb-comment-wrapper">
                <div class="reply-line" id="previewLine"></div>
                <div class="profile-pic-container">
                    <img id="previewPic" src="https://i.pravatar.cc/100" alt="profile">
                </div>
                <div class="comment-content">
                    <div class="bubble-container">
                        <div class="comment-bubble">
                            <span class="user-name" id="previewName">‡¶Æ‡ßá‡¶ò ‡¶ï‡¶®‡ßç‡¶Ø‡¶æ</span>
                            <div class="comment-text" id="previewText">Tuly's Organic Products a dekhte paren Apu 100% organic products sell kore..</div>
                        </div>
                        <div class="reaction-badge" id="previewReact">
                            <img id="reactImg" src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Facebook_Haha_React.svg/512px-Facebook_Haha_React.svg.png" alt="haha">
                        </div>
                    </div>

                    <div class="comment-actions">
                        <span class="time-item" id="previewTime">11h</span>
                        <span>Like</span>
                        <span>See translation</span>
                        <span>Share</span>
                    </div>

                    <div class="view-replies" id="previewReplyText">
                        View <span id="replyNum">1</span> reply
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const reacts = {
            like: "data:image/svg+xml,%3Csvg fill='none' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath d='M16.0001 7.9996c0 4.418-3.5815 7.9996-7.9995 7.9996S.001 12.4176.001 7.9996 3.5825 0 8.0006 0C12.4186 0 16 3.5815 16 7.9996Z' fill='url(%23paint0_linear_15251_63610)'/%3E%3Cpath d='M16.0001 7.9996c0 4.418-3.5815 7.9996-7.9995 7.9996S.001 12.4176.001 7.9996 3.5825 0 8.0006 0C12.4186 0 16 3.5815 16 7.9996Z' fill='url(%23paint1_radial_15251_63610)'/%3E%3Cpath d='M16.0001 7.9996c0 4.418-3.5815 7.9996-7.9995 7.9996S.001 12.4176.001 7.9996 3.5825 0 8.0006 0C12.4186 0 16 3.5815 16 7.9996Z' fill='url(%23paint2_radial_15251_63610)' fill-opacity='.5'/%3E%3Cpath d='M7.3014 3.8662a.6974.6974 0 0 1 .6974-.6977c.6742 0 1.2207.5465 1.2207 1.2206v1.7464a.101.101 0 0 0 .101.101h1.7953c.992 0 1.7232.9273 1.4917 1.892l-.4572 1.9047a2.301 2.301 0 0 1-2.2374 1.764H6.9185a.5752.5752 0 0 1-.5752-.5752V7.7384c0-.4168.097-.8278.2834-1.2005l.2856-.5712a3.6878 3.6878 0 0 0 .3893-1.6509l-.0002-.4496ZM4.367 7a.767.767 0 0 0-.7669.767v3.2598a.767.767 0 0 0 .767.767h.767a.3835.3835 0 0 0 .3835-.3835V7.3835A.3835.3835 0 0 0 5.134 7h-.767Z' fill='%23fff'/%3E%3Cdefs%3E%3CradialGradient id='paint1_radial_15251_63610' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='rotate(90 .0005 8) scale(7.99958)'%3E%3Cstop offset='.5618' stop-color='%230866FF' stop-opacity='0'/%3E%3Cstop offset='1' stop-color='%230866FF' stop-opacity='.1'/%3E%3C/radialGradient%3E%3CradialGradient id='paint2_radial_15251_63610' cx='0' cy='0' r='1' gradientUnits='userSpaceOnUse' gradientTransform='rotate(45 -4.5257 10.9237) scale(10.1818)'%3E%3Cstop offset='.3143' stop-color='%2302ADFC'/%3E%3Cstop offset='1' stop-color='%2302ADFC' stop-opacity='0'/%3E%3C/radialGradient%3E%3ClinearGradient id='paint0_linear_15251_63610' x1='2.3989' y1='2.3999' x2='13.5983' y2='13.5993' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%2302ADFC'/%3E%3Cstop offset='.5' stop-color='%230866FF'/%3E%3Cstop offset='1' stop-color='%232B7EFF'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E",
            love: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f3/Facebook_Love_React.svg/512px-Facebook_Love_React.svg.png",
            haha: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c5/Facebook_Haha_React.svg/512px-Facebook_Haha_React.svg.png",
            wow: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Facebook_Wow_React.svg/512px-Facebook_Wow_React.svg.png"
        };

        // Live Text Updates
        document.getElementById('nameInput').addEventListener('input', e => document.getElementById('previewName').textContent = e.target.value);
        document.getElementById('commentInput').addEventListener('input', e => document.getElementById('previewText').textContent = e.target.value);
        document.getElementById('timeInput').addEventListener('input', e => document.getElementById('previewTime').textContent = e.target.value);
        document.getElementById('replyCount').addEventListener('input', e => {
            document.getElementById('replyNum').textContent = e.target.value;
            document.getElementById('previewReplyText').style.display = e.target.value > 0 ? 'block' : 'none';
        });

        // Reaction Toggle
        document.getElementById('reactType').addEventListener('change', e => {
            const val = e.target.value;
            if(val === 'none') {
                document.getElementById('previewReact').classList.add('hidden');
            } else {
                document.getElementById('previewReact').classList.remove('hidden');
                document.getElementById('reactImg').src = reacts[val];
            }
        });

        // Reply Line Toggle
        document.getElementById('showReplies').addEventListener('change', e => {
            document.getElementById('previewLine').style.display = e.target.checked ? 'block' : 'none';
            document.getElementById('previewReplyText').style.display = e.target.checked ? 'block' : 'none';
        });

        // Image Handling
        document.getElementById('imageMethod').addEventListener('change', e => {
            const isUrl = e.target.value === 'url';
            document.getElementById('imageUrl').classList.toggle('hidden', !isUrl);
            document.getElementById('imageFile').classList.toggle('hidden', isUrl);
        });

        document.getElementById('imageUrl').addEventListener('input', e => { if(e.target.value) document.getElementById('previewPic').src = e.target.value; });
        document.getElementById('imageFile').addEventListener('change', function() {
            const reader = new FileReader();
            reader.onload = (e) => document.getElementById('previewPic').src = e.target.result;
            reader.readAsDataURL(this.files[0]);
        });

        // Initial setup for visibility
        window.onload = () => {
            document.getElementById('previewLine').style.display = 'block';
            document.getElementById('previewReplyText').style.display = 'block';
        };

        function downloadImage() {
            html2canvas(document.querySelector("#capture-area"), {
                backgroundColor: "#18191a",
                scale: 3, // High definition
                useCORS: true
            }).then(canvas => {
                const link = document.createElement('a');
                link.download = 'fb-comment-exact.png';
                link.href = canvas.toDataURL();
                link.click();
            });
        }
    </script>
</body>
</html>